---
format: 
  revealjs:
    slide-number: true
    # code-link: true
    highlight-style: a11y
    chalkboard: true
    theme: 
      - ../meds-slides-styles.scss
editor_options: 
  chunk_output_type: console
---

## {#title-slide data-menu-title="Title Slide" background="#053660"} 

[EDS 240: Lecture 3.1]{.custom-title}

[*Choosing the right graphic form*]{.custom-subtitle}

<hr class="hr-teal">

[Week 3 | January 22^nd^, 2024]{.custom-subtitle3}

---

## {#vision-sense data-menu-title="Vision = most important sense"} 

[We understand complex numbers better when they're represented visually]{.slide-title3}

<hr>


>"Exams will have a total of 137 points rather than the usual 100. This scoring system has no efect on the grade you get in the course, but it seems to make you happier"

::: {.right-align-text}
-[Richard H. Thaler](https://www.chicagobooth.edu/faculty/directory/t/richard-h-thaler), economist & professor
:::

- [**Early years:** exam graded 0 - 100 with an average score of 72 points = lots of complaints]{.body-text-s}
- [**Later years:** exam graded 0 - 137 with an average score of 96 points = no complaints]{.body-text-s}

. . . 
```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "35%"
knitr::include_graphics("images/week3/thaler-exams.png")
# library(tidyverse)
# exam1 <- data.frame(scores = 72, dummy = 50)
# exam2 <- data.frame(scores = 96)
# 
# ggplot(exam1, aes(x = 72, y = dummy)) +
#   geom_point(color = "red", size = 4) +
#   scale_x_continuous(limits = c(0, 100), breaks = c(0, 50, 100)) +
#   theme_void() +
#   theme(
#     #axis.text.x = element_text(size = 13),
#     panel.grid.major.y = element_line(linetype = 3, size = 0.2),
#     axis.text.x = element_text(vjust = 83)
#     #axis.ticks.x = unit(vjust = 85)
#     #axis.ticks.length = unit(.25, "cm")
#     #plot.title = element_text(size = 30, face = "bold.italic", margin=margin(0,0,10,0))
#   )
# 
#  geom_point(size = 4, color = "#047C90") +
#   scale_y_continuous(limits = c(0, 40), breaks = c(0, 100)) +
#   coord_flip() +
#   labs(title = "Position") +
#   theme_void() +
#   theme(
#     axis.text.y = element_text(size = 13),
#     panel.grid.major.y = element_line(linetype = 3, size = 0.2),
#     plot.title = element_text(size = 30, face = "bold.italic", margin=margin(0,0,10,0))
#   )
```

::: {.body-text-s .gray-text .center-text}
Albert Cairo's visualization of the scores from Thaler's exam case study
:::

---

## {#vision-sense data-menu-title="Vision = most important sense"} 

[Vision is our most well-developed sense]{.slide-title}

<hr>

<br>
<br>
<br>

::: {.center-text}
[***Mapping data into visual properties is powerful***]{.body-text-m .teal-text} 
:::

<br>

. . . 

::: {.center-text}
[**Mapping?**]{.teal-text .body-text-m} 

*How values of a variable(s) of interest are represented by visuals (e.g height of bar, shaded region of area plot, color of data points)*
:::

---

## {#choose-graphic data-menu-title="How to choose the right graphic?"} 

[How do you choose the right graphic form to represent your data?]{.slide-title2}

<hr>

<br>
<br>
<br>

::: {.body-text-m}
> "If I had the answer to that, I'd be rich by now...I have no idea, but I can give you some clues to make your own choices based on what we know about why and how visualization works"
:::

::: {.right-align-text} 
-Albert Cairo^1^, in his book, [*The Truthful Art*](https://www.amazon.com/Truthful-Art-Data-Charts-Communication/dp/0321934075)
:::

::: footer
^1^Someone who, in fact, knows *a lot* about effectively visualizing data
:::

---

## {#ex-choose-graph data-menu-title="Ex: choose graphic form"} 

[Exercise: Map data to visual properties]{.slide-title}

<hr>

<br>
<br>
<br>

```{r}
countdown::countdown(
  minutes = 3,
  # left = 0, right = 0,
  # Fanfare when it's over
  play_sound = TRUE,
  color_border              = "#FFFFFF",
  color_text                = "#7aa81e",
  color_running_background  = "#7aa81e",
  color_running_text        = "#FFFFFF",
  color_finished_background = "#ffa07a",
  color_finished_text       = "#FFFFFF",
  font_size = "2em",
  )
```


[Let's say **you want to compare unemployment rates of 5 countries**: A, B, C, D, E (the actual values here are not important).]{.body-text-m} 

<br>

. . .

[How would you **map the unemployment rates to visual properties** in a way that enables your readers to accurately compare values without having to read all the numbers?]{.body-text-m}


::: footer
Example adapted from Albert Cairo's, *The Truthful Art*
:::

---

## {#ex-possible-choices data-menu-title="Ex: possible choices"} 

[Different methods of encoding the same data]{.slide-title2}

<hr>

:::: columns

::: {.column width="50%"}
{{< include R/3.1-length-height.qmd >}}
:::

::: {.column width="50%"}
{{< include R/3.1-pos-area.qmd >}}
:::

::::

:::: columns

::: {.column width="50%"}
{{< include R/3.1-angle.qmd >}}
:::

::: {.column width="50%"}
{{< include R/3.1-color.qmd >}}
:::

::::

::: footer
Graphs recreated based on Albert Cairo's example (Fig 5.2) in *The Truthful Art*  
**For all graphics: A (22%), B (25%), C (24%), D (29%), E (32%)**
:::

::: notes
LENGHT, HEIGHT, POSITION probably the best (have students discuss)
:::

---

## {#tips-choosing-graph data-menu-title="Tips for choosing a graph"} 

[Tips for choosing the right graphic form]{.slide-title}

<hr>

1. [**Think about the task(s) you want to enable or message(s) you want to convey.**]{.teal-text} For example, do you want to compare, see change or flow, reveal relationships or connections, envision temporal or spatial patterns.

. . . 

2. [**Consider the number of variables and the number of data points, as well as the data types you're working with.**]{.teal-text} For example, do you have several vs. many data points? How many categorical and/or numeric variables? Are your variables ordered or not ordered? Data types can dictate which graphical form is appropriate.

. . .

3. [**Try different graphic forms,**]{.teal-text} especially if you have more than one task to enable or message to convey.

. . .

4. [**Arrange the components of the graphic**]{.teal-text} to make it as easy as possible to extract meaning from your graphic quickly.

. . .

5. [**Test the outcomes of your graphic on others,**]{.teal-text} particularly on those who are representative of the audience you are trying to reach.

::: footer
[*Most of the above tips are adapted from [Albert Cairo's](https://www.albertocairo.com/) [The Truthful Art](https://www.amazon.com/gp/product/0321934075/ref=as_li_qf_sp_asin_il_tl?camp=1789&creative=9325&creativeASIN=0321934075&ie=UTF8&linkCode=as2&linkId=A7BVNPNHHPEPJU7K&tag=thefunart03-20)*]{.gray-text .body-text-s}
:::

---

## {#hierarchy data-menu-title="Hierarchy"} 

["Hierarchy of elementary perceptual tasks"]{.slide-title}

<hr>

:::: columns

::: {.column width="50%"}

::: {.center-text .body-text-s}
William S. Cleveland & Robert McGill (1984) **Graphical Perception: Theory, Experimentation, and Application to the Development of Graphical Methods**, *Journal of the American Statistical Association*, 79:387, 531-554, DOI: [10.1080/01621459.1984.10478080](https://doi.org/10.1080/01621459.1984.10478080)
:::

<br>

- a viewer performs one or more of these mental-visual tasks (judging position, perceiving angles / areas, etc.) to extract the values of real variables represented on most graphs

- successful charts are constructed based on elementary tasks "as high in the hierarchy as possible"

[Albert Cairo's recreation of Cleveland & McGill's Hierarchy of Elementary Perceptual Tasks {{< fa arrow-right title="an arrow pointing to the right" >}}]{.body-text-s .gray-text}

:::

::: {.column width="50%"}
```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "75%"
knitr::include_graphics("images/week3/cairo-elementary-visual-perception.png")
```

::: {.center-text}
[A recreation of Cleveland & McGill's heirarchy of elementary perceptual tasks, by Albert Cairo]{.gray-text}
:::

:::

::::

---

exercise:

have students estiamate pie slices
have students estimate bar lengths

---

caveats to Cleveland & McGill

1. they were writign about just statistical charts -- what about data maps that rely on area / shading / hue? -- these lower scale mehtods may be appropriate when the goal isnt' to enable accurate judgements to reveal general patterns

e.g. choropleth map; but what if we want to compare unemployment rates between counties? pick a graphcial form from the top of the scale then (e.g. bar chart)

what if we want to show readers both big picture and details? use both! **multiple graphic forms may enable multiple tasks**

2. you can't apply anyone's method (including Cleveland & McGill) of choosing graphic forms uncritically

e.g. Sankey diagram
e.g. stacked area chart using Europe's GDP (can use CA drought as example here next??) -- goal is to compare Europe to rest of continents; if goal is to cmpare all continents in same manner, a time series / line chart would be better
e.g. show parts of a whole and all lines as individual entities -- use interactivity?

---

## {#tools-choosing-graph data-menu-title="Tools for choosing a graph"} 

[Tools for choosing the right graphic form]{.slide-title}

<hr>

:::: columns

::: {.column width="50%"}
```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "70%"
knitr::include_graphics("images/week3/from-data-to-viz.png")
```

::: {.center-text}
[From Data to Viz](https://www.data-to-viz.com/)  
[a decision tree organized by data type(s)]{.body-text-s}
:::

:::

::: {.column width="50%"}

<br>

```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "50%"
knitr::include_graphics("images/week3/dvc.png")
```

<br>

::: {.center-text}
[The Data Visualization Catalogue](https://datavizcatalogue.com/)  
[search by graph type or by function]{.body-text-s}
:::

:::

::::

. . . 

<br>

::: {.center-text .teal-text .body-text-m}
No one perfect or best tool!
:::

---

exercise:

given data set determine apporpriate graphs
how does this comare to Cleveland & McGill

---

plot data directly

e.g. plot income and expenses as separate lines or just plot a singe net income line? (latter) **plot your data directly, if difference matters more, plot the difference!** (need environmental example here)

---

SOME TIPS

- baselines
- breaking up plots when data vary so much that presenting them all on a single chart renders it useless (e.g. use fracking data?)
- ordering variables / categories -- e.g. see trends across age groups by grouping bars by media (see pg 139) (NEED EDS EXAMPLE HERE)

--- 

use logical & meaningful baselines

- bar, lollipops, histograms, etc should always have a 0 baseline -- cannot truncate when main visual cue is height/length measured from a common baseline
- scatterplot, line graph, ec. -- can be okay to truncate axes since main visual cue is position, not height/length

<!-- --- -->

<!-- ## {#from-data-to-viz2 data-menu-title="From Data to Viz" background-iframe="https://www.data-to-viz.com/" background-interactive=true} -->

<!-- ::: footer -->
<!-- **<https://www.data-to-viz.com/>** -->
<!-- ::: -->

<!-- --- -->

<!-- ## {#tbd data-menu-title="tbd"}  -->

<!-- [tbd]{.slide-title} -->

<!-- <hr> -->

<!-- We'll review some fundamental chart types -- many others are variants or extensions on these -->

<!-- This list is not exhaustive -->

---

##  {#end-break data-menu-title="# End / Break #" background="#047C90"}

<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">{{< fa mug-hot title="a mug with steam rising out the top" >}} Take a Break</p>
<p class="caption-text">*~ This is the end of Lesson 1 (of 3) ~*</p>
</div>

```{r}
countdown::countdown(
  minutes = 5,
  # left = 0, right = 0,
  # Fanfare when it's over
  play_sound = TRUE,
  color_border              = "#FFFFFF",
  color_text                = "#7aa81e",
  color_running_background  = "#7aa81e",
  color_running_text        = "#FFFFFF",
  color_finished_background = "#ffa07a",
  color_finished_text       = "#FFFFFF",
  font_size = "2em",
  )
```

