---
format: 
  revealjs:
    slide-number: true
    # code-link: true
    highlight-style: a11y
    chalkboard: true
    theme: 
      - ../meds-slides-styles.scss
editor_options: 
  chunk_output_type: console
---

## {#title-slide data-menu-title="Title Slide" background="#053660"} 

[EDS 240: Lecture 5.1]{.custom-title}

[*Colors*]{.custom-subtitle}

<hr class="hr-teal">

[Week 5 | February 5^th^, 2024]{.custom-subtitle3}

---

##  {#why-color data-menu-title="# Why use color? #" background="#047C90"}

<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">{{< fa palette title="a painter's palette" >}} Why do we use color?</p>
<p class="caption-text">*Spend a couple minutes discussing with your Learning Partners why and / or when we use color in data visualizations:*</p>
</div>

```{r}
countdown::countdown(
  minutes = 2,
  # left = 0, right = 0,
  # Fanfare when it's over
  play_sound = TRUE,
  color_border              = "#FFFFFF",
  color_text                = "#7aa81e",
  color_running_background  = "#7aa81e",
  color_running_text        = "#FFFFFF",
  color_finished_background = "#ffa07a",
  color_finished_text       = "#FFFFFF",
  font_size = "2em",
  )
```

::: {.notes}
- evoke emotions
- highlight important data / concepts
- branding
:::

---

~start by showing examples of data viz & colors to get reactions~

- green ocean vs blue ocean map
- warm city cold city (temperature scales)
- precipitation
- urban areas
- forests
- bright colors on elevation maps = high areas; dark = low areas
- happy vs. sad

---

##  {#color-theory data-menu-title="# Basic Color Theory #" background="#047C90"}

<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">A crash course in color theory and what it means for data viz</p>
</div>

---

## {#color-properties data-menu-title="Color properties"} 

[Three color properties influence how we perceive information]{.slide-title3}

<hr>

Changing **hue** (the pure color), **saturation** (aka chroma; the intensity of a color) and / or **value** (degree of lightness / darkness) can influence how readers perceive information in a data visualization.

<br>

```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "100%"
knitr::include_graphics("images/week5/hue-sat-val.png")
```

::: {.center-text .body-text-s .gray-text}
Image source: [medium.com](https://medium.com/awkbit/choosing-a-color-scheme-for-your-website-awkbit-59ab750151dc)
:::

---

## {#select-hue data-menu-title="Selecting hues"} 

[Select hues using color wheels / pickers]{.slide-title}

<hr>

<!-- - **Primary colors** are the main colors in a given color system (e.g. light (RGB) = [red]{style="background-color:#FF0000; color=#FFFFFF;" .white-text}, [green]{style="background-color:#00FF00"} [blue]{style="background-color:#0000FF" .white-text}). *Primary colors cannot be produced by mixing other colors in that system together.* -->

<!-- - **Secondary colors** are made by *mixing two primary colors* in a given color system -->

<!-- - **Tertiary colors** are made by *mixing a primary and secondary color* in a given color system -->

<!-- Hues (pure colors) are found around the **outer edge of color wheels**, or by adjusting the HEX code (sliding scale), then ensuring that selector is set to the **far right edge of a color picker box**: -->

:::: {.columns}

::: {.column width="50%"}

::: {.center-text .body-text-s}
There are lots of different variations of color wheels, but look for hues along the **outer edge**:
:::

<br>

```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "100%"
knitr::include_graphics("images/week5/color-wheels.png")
```

<br>
<br>

::: {.center-text .body-text-s .gray-text}
Common color models: RYB (used by painters), RGB (used in electonic displays), CMYK (used in modern printing). Image source: [medium.com](https://broworks.medium.com/color-guide-terms-definitions-and-useful-websites-6fa4f13bcb85)
:::
:::

::: {.column width="50%"}

::: {.center-text .body-text-s}
When using a color picker, **adjust the HEX code sliding scale** to pick a hue and ensure that the selector is set to the **far right edge** of the box:
:::

```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "100%"
knitr::include_graphics("images/week5/google-color-picker.png")
```
::: {.center-text .body-text-s .gray-text}
There are lots of great color pickers out there, though [Google color picker](https://www.google.com/search?q=google+color+picker&sca_esv=598283965&ei=uVyjZdXpLtL3kPIPhdaOaA&ved=0ahUKEwiVqoat_9uDAxXSO0QIHQWrAw0Q4dUDCBA&uact=5&oq=google+color+picker&gs_lp=Egxnd3Mtd2l6LXNlcnAiE2dvb2dsZSBjb2xvciBwaWNrZXIyChAAGEcY1gQYsAMyChAAGEcY1gQYsAMyChAAGEcY1gQYsAMyChAAGEcY1gQYsAMyChAAGEcY1gQYsAMyChAAGEcY1gQYsAMyChAAGEcY1gQYsAMyChAAGEcY1gQYsAMyDRAAGIAEGIoFGEMYsAMyDRAuGIAEGIoFGEMYsANI6QRQAFgAcAF4AZABAJgBAKABAKoBALgBA8gBAOIDBBgAIEGIBgGQBgo&sclient=gws-wiz-serp) is a quick one to navigate to
:::
:::

::::

<br>

<!-- ::: {.footer} -->
<!-- Common color models: RYB (used by painters), RGB (used in electonic displays), CMYK (used in modern printing). Image source: [medium.com](https://broworks.medium.com/color-guide-terms-definitions-and-useful-websites-6fa4f13bcb85) -->
<!-- ::: -->
<!-- ::: -->

<!-- ::: {.column width="50%" .center-text .body-text-m .teal-text} -->
<!-- We **associate meaning** with different hues (e.g. cold / sadness = blue, hot / anger = red). -->

<!-- These associations can **[differ among cultures](https://informationisbeautiful.net/visualizations/colours-in-cultures/)**. -->
<!-- ::: -->
<!-- :::: -->

<!-- ::: {.footer} -->
<!-- Fun side note: the primary colors of *print* are [cyan]{style="background-color:#00FFFF"}, [magenta]{style="background-color:#FF00FF" .white-text}, [yellow]{style="background-color:#FFFF00"} -- next time you reload your printer's ink, check out the colors printed on the calibration test page -->
<!-- ::: -->

::: {.notes}
- RGB: basis for all colors on the screen (with these primary colors, we can make all other colors digitally)
- RYB: known as painting color system (used by artists in painting)
- CMYK: used on modern printing
:::

---

## {#colors-harmonies1 data-menu-title="Color harmonies"} 

[Use color wheels identify color harmonies]{.slide-title2}

<hr>

```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "65%"
knitr::include_graphics("images/week5/color-harmonies.png")
```

::: {.center-text .body-text-s .gray-text}
Image source: [htmlcolorcodes.com](https://htmlcolorcodes.com/color-picker/)
:::

. . . 

<br>

:::: {.columns}

::: {.column width="50%"}
<br>

::: {.center-text}
[blue-green]{style="background-color:#088F8F" .white-text} & [red-orange]{style="background-color:#FF4433" .white-text} are complementary and therefore offer the strongest possible contrast
:::

::: {.center-text .body-text-s}
Find descriptions of [blue-green](https://htmlcolorcodes.com/colors/blue-green/) & [red-orange](https://htmlcolorcodes.com/colors/red-orange/) on [htmlcolorcodes.com](https://htmlcolorcodes.com/)
:::

:::

::: {.column width="50%"}
```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "100%"
library(palmerpenguins)
library(tidyverse)

ggplot(na.omit(penguins), aes(x = species, fill = sex)) +
  geom_bar()
```
:::

::::

---

## {#hue-meaning data-menu-title="Hue meaning"} 

[Hues have associated meaning]{.slide-title}

<hr>

::: {.center-text}
We associate meaning with different hues (e.g. cold / sad = blue, hot / angry = red), and *importantly,* these [**associations can differ among cultures**]{.teal-text}.
:::

```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "100%"
knitr::include_graphics("images/week5/colors-cultures.png")
```

::: {.center-text .body-text-s .gray-text}
Source: [Information is Beautiful](https://informationisbeautiful.net/visualizations/colours-in-cultures/)
:::

---

## {#multicultural-colors data-menu-title="Multicultural colors"} 

[Some associations span multiple cultures]{.slide-title}

<hr>

<br>
<br>

:::: {.columns}

::: {.column width="50%"}
```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "100%"
knitr::include_graphics("images/week5/colors-cultures-highlights.png")
```

::: {.center-text .body-text-s .gray-text}
Source: [Information is Beautiful](https://informationisbeautiful.net/visualizations/colours-in-cultures/)
:::

:::

::: {.column width="50%"}

<br>

```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "100%"
knitr::include_graphics("images/week5/hawkins-warming-stripes.png")
```

::: {.center-text .body-text-s .gray-text}
Source: Ed Hawkins [(showyourstripes.info)](https://showyourstripes.info/)
:::

:::

::::

---

## {#avoid-pure-hue data-menu-title="Avoid pure hues"} 

[Using pure hues can be overwhelming]{.slide-title}

<hr>

Though it may be temping to use bright / bold colors to grab attention, it can lead to eye strain and make it more challenging for your readers to focus on your chart.

```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "100%"
knitr::include_graphics("images/week5/pure-hue1.png")
```

::: {.center-text .gray-text .body-text-s}
Image source: [5 pitfalls to avoid when working with color in data visualization](https://flourish.studio/blog/color-in-data-visualization/)
:::

---

## {#more-subdued data-menu-title="Avoid pure hues"} 

[Use more subdued colors instead]{.slide-title}

<hr>

Though it may be temping to use bright / bold colors to grab attention, it can lead to eye strain and make it more challenging for your readers to focus on your chart.

```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "100%"
knitr::include_graphics("images/week5/pure-hue2.png")
```

::: {.center-text .gray-text .body-text-s}
Image source: [5 pitfalls to avoid when working with color in data visualization](https://flourish.studio/blog/color-in-data-visualization/)
:::

---

## {#generate-subdued-colors data-menu-title="Generating subdued colors"} 

[A few approaches for subduing a pure hue]{.slide-title}

<hr>

<br>

- adjust the saturation (i.e. the level of intensity of a color; 100% saturation = a pure hue)
- adjust the lightness / darkness by tinting (add white), toning (add gray), or shading (add black)
- add opacity (e.g. using the `alpha` argument)

```{r}
#| eval: false
#| echo: false
lyme_pop <- read_csv(here::here("slides", "data", "lyme.csv"))

# original ----
lyme_pop |> 
  filter(year %in% c(2010:2020)) |> 
  filter(state %in% c("Maine", "Rhode Island", "New Hampshire", "Vermont")) |> 
  ggplot(aes(x = year, y = cases_per100k, group = state, fill = state)) +
  geom_area(position = "fill") +
  scale_y_continuous(labels = scales::percent_format(scale = 100)) +
  scale_fill_manual(values = c("#C77600", "#49C700", "#00AFC7", "#9400C7")) +
  theme_bw() +
  theme(panel.grid = element_blank())

# saturation ----
lyme_pop |> 
  filter(year %in% c(2010:2020)) |> 
  filter(state %in% c("Maine", "Rhode Island", "New Hampshire", "Vermont")) |> 
  ggplot(aes(x = year, y = cases_per100k, group = state, fill = state)) +
  geom_area(position = "fill") +
  scale_y_continuous(labels = scales::percent_format(scale = 100)) +
  scale_fill_manual(values = c("#ae7219", "#50ae19", "#199dae", "#8919ae")) +
  theme_bw() +
  theme(panel.grid = element_blank())

# darkness ----
lyme_pop |> 
  filter(year %in% c(2010:2020)) |> 
  filter(state %in% c("Maine", "Rhode Island", "New Hampshire", "Vermont")) |> 
  ggplot(aes(x = year, y = cases_per100k, group = state, fill = state)) +
  geom_area(position = "fill") +
  scale_y_continuous(labels = scales::percent_format(scale = 100)) +
  scale_fill_manual(values = c("#804d00", "#2f8000", "#007180", "#600080")) +
  theme_bw() +
  theme(panel.grid = element_blank())

# lightness ----
lyme_pop |> 
  filter(year %in% c(2010:2020)) |> 
  filter(state %in% c("Maine", "Rhode Island", "New Hampshire", "Vermont")) |> 
  ggplot(aes(x = year, y = cases_per100k, group = state, fill = state)) +
  geom_area(position = "fill") +
  scale_y_continuous(labels = scales::percent_format(scale = 100)) +
  scale_fill_manual(values = c("#ffcc80", "#aeff80", "#80f0ff", "#df80ff")) +
  theme_bw() +
  theme(panel.grid = element_blank())

# opacity ----
lyme_pop |> 
  filter(year %in% c(2010:2020)) |> 
  filter(state %in% c("Maine", "Rhode Island", "New Hampshire", "Vermont")) |> 
  ggplot(aes(x = year, y = cases_per100k, group = state, fill = state)) +
  geom_area(position = "fill", alpha = 0.75) +
  scale_y_continuous(labels = scales::percent_format(scale = 100)) +
  scale_fill_manual(values = c("#C77600", "#49C700", "#00AFC7", "#9400C7")) +
  theme_bw() +
  theme(panel.grid = element_blank())
```


---

## {#saturation data-menu-title="Saturation"} 

[High saturation = greater / more important values]{.slide-title2}

<hr>

<br>

::: {.body-text-m .center-text}
It's okay to use saturated colors in moderation. 

*We tend to associate **more saturated** colors with **greater values**.*
:::

:::: {.columns}

::: {.column width="50%"}
```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "100%"
knitr::include_graphics("images/week5/2020-election.png")
```

::: {.center-text .body-text-s .gray-text}
Image source: [New York Times](https://www.nytimes.com/interactive/2021/upshot/2020-election-map.html)
:::
:::

::: {.column width="50%"}
```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "100%"
knitr::include_graphics("images/week5/ggdensity-saturation.png")
```

::: {.center-text .body-text-s .gray-text}
Image source: [`{ggdensity}` pkgdown site](https://jamesotto852.github.io/ggdensity/index.html). 
:::
:::

::::

----

## {#color-picker-saturation data-menu-title="Use a color picker"} 

[Use a color picker to adjust hue, saturation, value]{.slide-title3}

<hr>


----

## {#lightness data-menu-title="Lightness"} 

[Lightness is how much white/black/gray is added to a hue]{.slide-title3}

<hr>

:::: {.columns}

::: {.column width="50%"}
```{r}
#| eval: true
#| echo: false
#| fig-align: "center"
#| out-width: "100%"
knitr::include_graphics("images/week5/tint-tone-shade-paint.png")
```

::: {.center-text .body-text-s .gray-text}
Image source: [Wikipedia](https://en.wikipedia.org/wiki/Tint,_shade_and_tone)
:::
:::

::: {.column width="50%"}
  - **tints** are made by **adding white** to a color, resulting in **lighter** versions
  - **shades** are made by **adding black** to a color, resulting in **darker** versions
  - **tones** are made by **adding gray** to a color
:::

::::

---

##  {#color-emotion data-menu-title="# Color & Emotions #" background="#047C90"}

<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">Colors used in our data visualizations elicit emotions from our audience</p>
</div>

---

- together can communicate the level of seriousness, intensity, and emotional weight in a visual work (David Machin's [Introduction to Multimodal Analysis](https://books.google.de/books/about/Introduction_to_Multimodal_Analysis.html?id=xSyDAAAACAAJ&redir_esc=y))

- dark / saturated > more dramatic / anger / sadness
- bright / flat > opposite

---

- emotions
- inclusive colors

---

##  {#palette-types data-menu-title="# Palettes #" background="#047C90"}

<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">Different data types require different types of palettes</p>
</div>

---

General rules:

- categorical data: change hue; continuous data, changed saturation or lightness

- don't use a gradient color palette for categories (e.g. don't used different shades one hue for categorical data to make it look less colorful)
  - readers associate dark colors with greater values, paler colors with lower values
  - instead use different hues
  - if your chart is too colorful, consider a differnt way to visualize your data
  
- comparing one thing to the rest? use a stand-out hue for the one thing and gray for the rest
- comparing 2 things to the rest? use two complimentary colors 
  
- don't use too many colors

---

##  {#accessibility data-menu-title="# Accessibility #" background="#047C90"}

<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">Ensuring accessbility through your color choices</p>
</div>

---

##  {#accessibility data-menu-title="# Accessibility #" background="#047C90"}

<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">Ensuring accessbility through your color choices</p>
</div>

---

##  {#reminders-recap data-menu-title="# Reminders & recap #" background="#047C90"}

<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">Some parting words, reminders, and a recap of all the colorful ideas discussed</p>
</div>


---

- picking colors is hard! use them purposefully
  - your brand
  - pulling colors from a related image
  - take inspiration from other data viz/art 
  - google "[whatever you like] palette"

{monochromeR}

- colors & common pitfalls
  - what to consider when choosing colors for data visualization (datawrapper)
  - gradients for cont data
  - be consistent with colors
  - color gradients (consider binned colors)
  - misleading color palettes (rainbow color palette): https://eagereyes.org/blog/2013/rainbow-color-map
  - think about color palettes before you create your viz! use color blindness tools
  
  https://www.cedricscherer.com/2021/06/08/colors-and-emotions-in-data-visualization/
  
  https://blog.datawrapper.de/colors/
  
  example of bad color map (poverty): https://en.wikipedia.org/wiki/Poverty

---

## {#recap data-menu-title="Recap"} 

[Recap]{.slide-title3}

<hr>

- color theory can help us identify colors that look nice together
- hues have associated meaning -- it's important to consider our intended audience and be mindful of how those associations differ among cultures 
- avoid using *only* pure hues 
- 
