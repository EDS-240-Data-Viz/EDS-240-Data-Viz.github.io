---
format: 
  revealjs:
    slide-number: true
    # code-link: true
    highlight-style: a11y
    chalkboard: true
    theme: 
      - ../../meds-slides-styles.scss
editor_options: 
  chunk_output_type: console
---

## {#title-slide data-menu-title="Title Slide" background="#053660"} 

[EDS 240: Lecture 7.2]{.custom-title}

[*Annotations*]{.custom-subtitle}

<hr class="hr-teal">

[Week 7 | February 18^th^, 2026]{.custom-subtitle3}

---

## {#good-design data-menu-title="Good data viz considerations"} 

[Good data visualization design considers:]{.slide-title}

<hr>

- [**data-ink ratio** (less is more, within reason)]{.gray-text}
- how to **reduce eye movement** and **improve readability / interpretability** (e.g. through alternative legend positions, direct annotations)
- putting things **in context**
- how to **draw the main attention** to the most **important info**
- [**consistent** use of colors, spacing, typefaces, weights]{.gray-text}
- [**typeface / font choices** and how they affect both readability *and* emotions and perceptions]{.gray-text}
- [using **visual hierarchy** to guide the reader]{.gray-text}
- [**color choices** (incl. palette types, emotions, readability)]{.gray-text}
- how to **tell an interesting story**
- [how to **center the people and communities** represented in your data]{.gray-text}
- [**accessibility** through colorblind-friendly palettes & alt text]{.gray-text}

::: {.center-text .teal-text}
**This lesson will focus on the use of annotations in a good data visualization.**
:::

---

<br>

```{r arctic-ice}
#| evaL: true
#| echo: false
#| out-width: "50%"
#| fig-align: "center"
knitr::include_graphics(here::here("course-materials", "images", "lecture-slides", "arctic-ice.png"))
```

::: {.footer}
Source: [Arctic Ice Reaches a
Low Winter Maximum](https://www.nytimes.com/interactive/2015/03/24/science/earth/arctic-ice-low-winter-maximum.html?_r=0){target="_blank"} (New York Times). 

Also check out this great commentary on the above visualization, [Respect your readers' time](https://blog.datawrapper.de/readers-time/){target="_blank"} (DataWrapper).

Enjoy the y-axis units on this data viz? Be sure to check out [The Measure of Things](https://www.themeasureofthings.com/default.php){target="_blank"}, a search engine for comparative measurements.
:::

```{r arctic-ice-countdown}
countdown::countdown(
  minutes = 2,
  # left = 0, right = 0,
  # Fanfare when it's over
  play_sound = TRUE,
  color_border              = "#FFFFFF",
  color_text                = "#7aa81e",
  color_running_background  = "#7aa81e",
  color_running_text        = "#FFFFFF",
  color_finished_background = "#ffa07a",
  color_finished_text       = "#FFFFFF",
  font_size = "2em",
  )
```

---

:::: {.columns}

::: {.column width="50%"}
```{r daily-records}
#| evaL: true
#| echo: false
#| out-width: "80%"
#| fig-align: "center"
knitr::include_graphics(here::here("course-materials", "images", "lecture-slides", "daily-records.png"))
```
:::

::: {.column width="50%"}
```{r ridgeline-hot2023}
#| evaL: true
#| echo: false
#| out-width: "65%"
#| fig-align: "center"
knitr::include_graphics(here::here("course-materials", "images", "lecture-slides", "ridgeline-hot2023.png"))
```
:::

::::

::: {.footer}
Source: [2023 confirmed as world's hottest year on record](https://www.bbc.com/news/science-environment-67861954){target="_blank"} (BBC)
:::

```{r heat-countdown}
countdown::countdown(
  minutes = 2,
  # left = 0, right = 0,
  # Fanfare when it's over
  play_sound = TRUE,
  color_border              = "#FFFFFF",
  color_text                = "#7aa81e",
  color_running_background  = "#7aa81e",
  color_running_text        = "#FFFFFF",
  color_finished_background = "#ffa07a",
  color_finished_text       = "#FFFFFF",
  font_size = "2em",
  )
```

---

<br>
<br>

:::: {.columns}

::: {.column width="50%"}
```{r global-temp}
#| evaL: true
#| echo: false
#| out-width: "100%"
#| fig-align: "center"
knitr::include_graphics(here::here("course-materials", "images", "lecture-slides", "global-temp-2023diff.png"))
```
:::

::: {.column width="50%"}
```{r global-ocean-temps}
#| evaL: true
#| echo: false
#| out-width: "100%"
#| fig-align: "center"
knitr::include_graphics(here::here("course-materials", "images", "lecture-slides", "global-ocean-temps.png"))
```
:::

::::

::: {.footer}
Source: [2023 confirmed as world's hottest year on record](https://www.bbc.com/news/science-environment-67861954){target="_blank"} (BBC)
:::

```{r temps-countdown}
countdown::countdown(
  minutes = 2,
  # left = 0, right = 0,
  # Fanfare when it's over
  play_sound = TRUE,
  color_border              = "#FFFFFF",
  color_text                = "#7aa81e",
  color_running_background  = "#7aa81e",
  color_running_text        = "#FFFFFF",
  color_finished_background = "#ffa07a",
  color_finished_text       = "#FFFFFF",
  font_size = "2em",
  )
```

---

```{r co2-levels}
#| evaL: true
#| echo: false
#| out-width: "50%"
#| fig-align: "center"
knitr::include_graphics(here::here("course-materials", "images", "lecture-slides", "co2-levels.png"))
```

::: {.footer}
Source: [What is climate change? A really simple guide](https://www.bbc.com/news/science-environment-24021772){target="_blank"} (BBC)
:::

```{r co2-countdown}
countdown::countdown(
  minutes = 2,
  # left = 0, right = 0,
  # Fanfare when it's over
  play_sound = TRUE,
  color_border              = "#FFFFFF",
  color_text                = "#7aa81e",
  color_running_background  = "#7aa81e",
  color_running_text        = "#FFFFFF",
  color_finished_background = "#ffa07a",
  color_finished_text       = "#FFFFFF",
  font_size = "2em",
  )
```

---

## {#why-annotate data-menu-title="Why annotate?"} 

[Why annotate?]{.slide-title}

<hr>

. . . 

- [clarify meaning / significance of data (especially particular data points or groups)]{.body-text-s}
- [facilitate interpretation]{.body-text-s}
- [build a narrative]{.body-text-s}

. . . 

The average attention span of an internet user is [~8 seconds](https://www.linkedin.com/pulse/shrinking-attention-span-online-users-what-means-your-avinash-sharma/){target="_blank"} (shorter than a goldfish!). It's imperative that we **respect our readers' time**.

. . . 

<br>

[**Aim to:**]{.body-text-m}

- [tell your readers what you want them to see]{.body-text-s}
- [guide your readers eyes & attention]{.body-text-s}
- [remind your readers what they're looking at]{.body-text-s}

The more time you spend making your visualization crystal clear, **the more time you save your readers needing to decipher it**.

::: {.footer}
Read these two *great* posts: [What to consider when using text in data visualizations](https://blog.datawrapper.de/text-in-data-visualizations/){target="_blank"} & [Respect your readersâ€™ time](https://blog.datawrapper.de/readers-time/){target="_blank"}, both by Lisa Charlotte Muth
:::

---

## {#plots-to-annotate data-menu-title="Annotate these plots"} 

[We'll practice annotating our dumbbell plot]{.slide-title2}

<hr>

```{r original-code}
#| eval: true
#| echo: false
#| out-width: "100%"
#| fig-align: "center"
#| fig-asp: 0.7
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
##                                    setup                                 ----
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#..........................load packages.........................
library(tidyverse)
library(janitor)
library(showtext)
library(glue)
library(ggtext)

#..........................import data...........................
iwa_data <- read_csv(here::here("course-materials", "data", "lecture", "combined_iwa-assessment-outputs-conus-2025_CONUS_200910-202009_long.csv"))

#..................create df of subregions names.................
# data only contain HUC codes; must manually join names if we want to include those in our viz (which we do! we'll mainly be looking at CA subregions)
# subregions (& others) identified in: https://water.usgs.gov/GIS/wbd_huc8.pdf
# there may be a downloadable dataset containing HUCs & names out there...but I couldn't find it
subregion_names <- tribble(
  ~subregion_HUC, ~subregion_name,
  "1801", "Klamath-Northern California Coastal",
  "1802", "Sacramento",
  "1803", "Tulare-Buena Vista Lakes",
  "1804", "San Joaquin",
  "1805", "San Francisco Bay",
  "1806", "Central California Coastal",
  "1807", "Southern California Coastal",
  "1808", "North Lahontan", 
  "1809", "Northern Mojave-Mono Lake",
  "1810", "Southern Mojave-Salton Sea",
)

#......................import Google fonts.......................
# `name` is the name of the font as it appears in Google Fonts
# `family` is the user-specified id that you'll use to apply a font in your ggplot
font_add_google(name = "Sarala", family = "sarala")
font_add_google(name = "Noto Sans", family = "noto-sans")
font_add_google(name = "Red Hat Mono", family = "red")

#....................import Font Awesome fonts...................
# we'll only be using an icon from the brands collection today; you'll need to import the other .otf files if you also plan to use icons from those collections
font_add(family = "fa-brands",
         regular = here::here("fonts", "Font Awesome 7 Brands-Regular-400.otf"))

#......enable {showtext} rendering for all newly opened GDs......
showtext_auto()

##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
##                                wrangle data                              ----
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#......create df with just CA water resource region (HUC 18).....
ca_region <- iwa_data |> 
  clean_names() |> 
  mutate(region_HUC = str_sub(string = huc12_id, start = 1, end = 2),
         subregion_HUC = str_sub(string = huc12_id, start = 1, end = 4)) |> 
  filter(region_HUC == "18") |> 
  separate_wider_delim(cols = year_month,
                       delim = "-",
                       names = c("year", "month")) |>                            
  mutate(year = as.numeric(year),
         month = as.numeric(month)) |> 
  left_join(subregion_names) |> 
  select(year, month, huc12_id, region_HUC, subregion_HUC, subregion_name, availab_mm_mo, consum_mm_mo, sui_frac)

#.................create df of just SBC subbasin.................
sbc_subbasin_monthly <- ca_region |> 
  mutate(subbasin_HUC = str_sub(string = huc12_id, start = 1, end = 8)) |> 
  filter(subbasin_HUC == "18060013") |> #
  group_by(month) |> 
  summarize(mean_avail = mean(availab_mm_mo, na.rm = TRUE),
            mean_consum = mean(consum_mm_mo, na.rm = TRUE)) |> 
  mutate(month = month.abb[month],
         month = factor(month, levels = rev(c(month.abb[10:12], month.abb[1:9]))))

##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
##                                 build plot                               ----
##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#......................create color palette......................
pal <- c("avail" = "#448F9C",
         "consum" = "#9C7344",
         "dark_gray" = "#0C1509",
         "light_gray" = "#4E514D") 

#..........................create title..........................
title <- glue::glue("Water
                    <span style='color:#448F9C;'>availability</span> 
                    vs. 
                    <span style='color:#9C7344;'>consumption</span>
                    across the Santa Barbara<br>
                    Coastal subbasin (2010-2020)")

#.........................create caption.........................
github_icon <- "&#xf09b"
github_username <- "samanthacsik"

caption <- glue::glue(
  "Data Source: USGS CONUS 2025<br>
  <span style='font-family:fa-brands;'>{github_icon};</span>
  {github_username}"
)

#..........................updated plot..........................
water_plot <- ggplot(sbc_subbasin_monthly) +
  geom_linerange(aes(y = month,
                     xmin = mean_consum, xmax = mean_avail),
                     alpha = 0.6) + 
  geom_point(aes(x = mean_avail, y = month), 
            color = pal["avail"], 
            size = 5,
            stroke = 2) +
  geom_point(aes(x = mean_consum, y = month), 
             color = pal["consum"], 
             fill = "white",
             shape = 21,
             size = 5,
             stroke = 2) +
  labs(title = title,
       subtitle = "Summer deficits exist, despite winter water surplus",
       caption = caption,
       x = "Mean monthly water availability & consumption (mm)") +
  theme_light() +
  theme(
    plot.title.position = "plot",
    plot.title = ggtext::element_textbox(family = "sarala",
                                         face = "bold",
                                         size = 22,
                                         lineheight = 1.2,
                                         color = pal["dark_gray"]),
    plot.subtitle = element_text(family = "noto-sans",
                                 size = 16,
                                 color = pal["light_gray"],
                                 margin = margin(b = 8)),
    axis.text = element_text(family = "red",
                             size = 13,
                             color = pal["light_gray"]),
    axis.title.x = element_text(family = "noto-sans",
                                size = 14,
                                margin = margin(t = 20)),
    axis.title.y = element_blank(),
    plot.caption = ggtext::element_textbox(family = "noto-sans",
                                           face = "italic",
                                           color = pal["light_gray"],
                                           halign = 1, 
                                           lineheight = 1.5,
                                           margin = margin(t = 15)),
    panel.grid.major.y = element_blank(),                                       
    plot.margin = margin(t = 1, r = 1, b = 1, l = 1, "cm")
  )

water_plot
```


---

## {#build-custom-annotations data-menu-title="How to build custom annotations"} 

[Building custom annotations]{.slide-title}

<hr>

<br>

[There are two primary ways to add custom text annotations:]{.body-text-m}

. . . 

<br>

1. `geom_text()` (for plain text) & `geom_label()` (adds a rectangle behind text), which take aesthetics mappings; these draw the geom *once per each row of the data frame*
2. `annotate()`, which does not take aesthetics mappings and instead draws only the information provided to it 

. . . 

<br>

[Let's try to add an annotation to our plot using both approaches to better understand the difference.]{.body-text-m}

<!-- . . . 

<br>
 
::: {.center-text}
[**Our goal:**]{.teal-text} add a rectangle that bounds / highlights just the summer months, add text nearby that reads **summer water deficit**, and draw an arrow from the text pointing to the box.
::: -->

::: {.footer}
I've found the [Annotation FAQ](https://ggplot2.tidyverse.org/articles/faq-annotation.html){target="_blank"} super helpful!
:::

---

## {#geom-text-issues data-menu-title="geom_text() doesn't work"} 

[`geom_text()` doesn't look right .  . .]{.slide-title}

<hr>

Here, we use `geom_text()` to add text to our plot. We need to **supply coordinates** to place it on our plot:

<br>

:::: {.columns}
::: {.column width="50%"}
```{r practice-geom-text-echo}
#| eval: false
#| echo: true
#| out-width: "100%"
water_plot + # `water_plot` represents all our plot code from the typography lecture
    geom_text(
        x = 10,
        y = 3, # or y = "Jul"
        label = "some annotation text",
        size = 5,
        color = pal["light_gray"],
        hjust = "center",
        family = "noto-sans"
    )
```
:::

::: {.column width="50%"}
```{r practice-geom-text-eval}
#| eval: true
#| echo: false
#| out-width: "100%"
#| fig-align: "center"
#| fig-asp: 0.7
water_plot + # `water_plot` represents all our plot code from the typography lecture
    geom_text(
        x = 10,
        y = 3, # or y = "Jul"
        label = "some annotation text",
        size = 5,
        color = pal["light_gray"],
        hjust = "center",
        family = "noto-sans"
    )
```
:::
::::

::: {.center-text}
Notice that our text looks oddly blurry and bold...
:::

---

## {#geom-text-aes data-menu-title="geom_text() inherits aesthetics"} 

[`geom_text()` is a data-driven layer]{.slide-title}

<hr>

All `geom_*()`s are data-driven by default. Just like `geom_point()` will plot a single point for each row in our data frame, `geom_text()` plots a single label (**some annotation text**) for each row in our data frame -- there are 12 rows in `sbc_subbasin_monthly`, so our label is plotted 12 times (one on top of the other on our defined `x` and `y` coordinates):

<br>

```{r df-str}
#| eval: true
#| echo: true
str(sbc_subbasin_monthly)
```

. . .

<br>

::: {.center-text}
We should instead use `annotate()` to plot a single text element, independent of our data.
:::

::: {.footer}
Check out this [archived version](ARCHIVE/SLIDES-annotations-lobs-mono.qmd#use-geoms){taret="_blank"} to see examples of when you might consider using `geom_text()` (or `geom_label()`).
:::

---

## {#use-annotate data-menu-title="Use annotate()"} 

[Use `annotate()` to add a single text element]{.slide-title2}

<hr>

`annotate()` requires that we define a `geom` type (e.g. `"text"`, `"rect"`, `"curve"`, `"segment"`). 

<br> 

:::: {.columns}
::: {.column width="50%"}
```{r practice-annotate-echo}
#| eval: false
#| echo: true
#| code-line-numbers: "2-3"
water_plot + 
    annotate(
        geom = "text",
        x = 10,
        y = 3,
        label = "some annotation text",
        size = 5,
        color = pal["light_gray"],
        hjust = "center",
        family = "noto-sans"
    )
```
:::

::: {.column width="50%"}
```{r practice-annotate-eval}
#| eval: true
#| echo: false
#| out-width: "100%"
#| fig-align: "center"
#| fig-asp: 0.7
water_plot + 
    annotate(
        geom = "text",
        x = 10,
        y = 3,
        label = "some annotation text",
        size = 5,
        color = pal["light_gray"],
        hjust = "center",
        family = "noto-sans"
    )
```
:::
::::

::: {.footer}
**Note:** Determining coordinates for any annotation can require a lot of trial and error. Pick values that you think are close and then tweak from there.
:::

---

## {#add-real-annotation data-menu-title="Add real annotation"} 

[Add a more informative annotation]{.slide-title2}

<hr>

[Now that we know the right approach for adding single text elements to our plot, let's add something a bit more helpful and aesthetic. We'll construct a bracket to bound the data for Jun > Sep, then add text that describes how Santa Barbara handles water deficits, as well as how to interpret negative availability values. Full plot text is included:]{.body-text-s}

```{r update-annotation-echo}
#| eval: false
#| echo: true
#| code-line-numbers: "28-34,38-41,55-74"
#......................create color palette......................
pal <- c("avail" = "#448F9C",
         "consum" = "#9C7344",
         "dark_gray" = "#0C1509",
         "light_gray" = "#4E514D") 

#........................preview palette.........................
# monochromeR::view_palette(pal)

#..........................create title..........................
title <- glue::glue("Water
                    <span style='color:#448F9C;'>availability</span> 
                    vs. 
                    <span style='color:#9C7344;'>consumption</span>
                    across the Santa Barbara<br>
                    Coastal subbasin (2010-2020)")

#.........................create caption.........................
github_icon <- "&#xf09b"
github_username <- "samanthacsik"

caption <- glue::glue(
  "Data Source: USGS CONUS 2025<br>
  <span style='font-family:fa-brands;'>{github_icon};</span>
  {github_username}"
)

#........................create annotation.......................
annotation <- glue::glue(
  "Santa Barbara meets deficits through diverse water sources, 
  including recycling & desalination. Negative availability 
  indicates reliance on groundwater, imported water, 
  or stored reserves."
)
 
#..........................updated plot..........................
water_plot <- ggplot(sbc_subbasin_monthly) +
  geom_vline(xintercept = 0, 
             linetype = "dashed", 
             color = pal["light_gray"], 
             alpha = 0.4) +
  geom_linerange(aes(y = month,
                     xmin = mean_consum, xmax = mean_avail),
                 alpha = 0.6) + 
  geom_point(aes(x = mean_avail, y = month), 
             color = pal["avail"], 
             size = 5,
             stroke = 2) +
  geom_point(aes(x = mean_consum, y = month), 
             color = pal["consum"], 
             fill = "white",
             shape = 21,
             size = 5,
             stroke = 2) +
  annotate("segment", 
           x = 3.5, xend = 3.5,
           y = 4, yend = 1, # or y = "Jun", yend = "Sep"
           linewidth = 0.8) +
  annotate("segment",
           x = 3.5, xend = 3,
           y = 4, yend = 4, 
           linewidth = 0.8) +
  annotate("segment",
           x = 3.5, xend = 3,
           y = 1, yend = 1, 
           linewidth = 0.8) +
  annotate(geom = "text",
           x = 12,
           y = 2.5,
           label = annotation,
           size = 3.5,
           color = pal["light_gray"],
           hjust = "center",
           family = "noto-sans") +
  labs(title = title,
       subtitle = "Summer deficits exist, despite winter water surplus",
       caption = caption,
       x = "Mean monthly water availability & consumption (mm)") +
  theme_light() +
  theme(
    plot.title.position = "plot",
    plot.title = ggtext::element_textbox(family = "sarala",
                                         face = "bold",
                                         size = 17, 
                                         lineheight = 1.2,
                                         color = pal["dark_gray"]), 
    plot.subtitle = element_text(family = "noto-sans",
                                 size = 16, 
                                 color = pal["light_gray"],
                                 margin = margin(b = 8)),
    axis.text = element_text(family = "red",
                             size = 12, 
                             color = pal["light_gray"],),
    axis.title.x = element_text(family = "noto-sans",
                                size = 13, 
                                margin = margin(t = 20)),
    axis.title.y = element_blank(),
    plot.caption = ggtext::element_textbox(family = "noto-sans",
                                           face = "italic",
                                           color = pal["light_gray"],
                                           halign = 1, 
                                           lineheight = 1.5), 
    panel.grid.major.y = element_blank(),
    plot.margin = margin(t = 1, r = 1, b = 1, l = 1, "cm")
  )

water_plot
```

::: {.footer}
Learn more about [Santa Barbara's diverse water portfolio](https://santabarbaraca.gov/government/departments/public-works/water-resources/drought-information){target="_blank"}.
:::

---

```{r update-annotate-eval}
#| eval: true
#| echo: false
#| out-width: "100%"
#| fig-align: "center"
#| fig-asp: 0.7
#........................create annotation.......................
annotation <- glue::glue(
  "Santa Barbara meets deficits through diverse water sources, 
  including recycling & desalination. Negative availability 
  indicates reliance on groundwater, imported water, 
  or stored reserves."
)
 
#..........................updated plot..........................
water_plot <- ggplot(sbc_subbasin_monthly) +
  geom_vline(xintercept = 0, 
             linetype = "dashed", 
             color = pal["light_gray"], 
             alpha = 0.4) +
  geom_linerange(aes(y = month,
                     xmin = mean_consum, xmax = mean_avail),
                 alpha = 0.6) + 
  geom_point(aes(x = mean_avail, y = month), 
             color = pal["avail"], 
             size = 5,
             stroke = 2) +
  geom_point(aes(x = mean_consum, y = month), 
             color = pal["consum"], 
             fill = "white",
             shape = 21,
             size = 5,
             stroke = 2) +
  annotate("segment", 
           x = 3.5, xend = 3.5,
           y = 4, yend = 1, # or y = "Jun", yend = "Sep"
           linewidth = 0.8) +
  annotate("segment",
           x = 3.5, xend = 3,
           y = 4, yend = 4, 
           linewidth = 0.8) +
  annotate("segment",
           x = 3.5, xend = 3,
           y = 1, yend = 1, 
           linewidth = 0.8) +
  annotate(geom = "text",
           x = 9.8,
           y = 2.5,
           label = annotation,
           size = 3.75,
           color = pal["light_gray"],
           hjust = "center",
           family = "noto-sans") +
  labs(title = title,
       subtitle = "Summer deficits exist, despite winter water surplus",
       caption = caption,
       x = "Mean monthly water availability & consumption (mm)") +
  theme_light() +
  theme(
    plot.title.position = "plot",
    plot.title = ggtext::element_textbox(family = "sarala",
                                         face = "bold",
                                         size = 22, 
                                         lineheight = 1.2,
                                         color = pal["dark_gray"],
                                         width = unit(25, "cm")), 
    plot.subtitle = element_text(family = "noto-sans",
                                 size = 16, 
                                 color = pal["light_gray"],
                                 margin = margin(b = 8)),
    axis.text = element_text(family = "red",
                             size = 13, 
                             color = pal["light_gray"],),
    axis.title.x = element_text(family = "noto-sans",
                                size = 14, 
                                margin = margin(t = 20)),
    axis.title.y = element_blank(),
    plot.caption = ggtext::element_textbox(family = "noto-sans",
                                           face = "italic",
                                           color = pal["light_gray"],
                                           halign = 1, 
                                           lineheight = 1.5), 
    panel.grid.major.y = element_blank(),
    plot.margin = margin(t = 1, r = 1, b = 1, l = 1, "cm")
  )

water_plot
```

---

## {#more-examples data-menu-title="More examples"} 

[Looking for more annotation examples?]{.slide-title}

<hr>

<br>
<br>
<br>
<br>
<br>

::: {.center-text .body-text-m}
To see more annotation examples (including how to use `geom_text()` & `geom_label()` + the `{ggrepel}` package to label individual points, how to draw arrows & boxes, etc.), you can check out the archived version of the [annotations lecture](../lecture-slides/ARCHIVE/SLIDES-annotations-lobs-mono.qmd){target="_blank"}.
:::

<!-- To see more typography and annotation examples (including how to use `geom_text()` & `geom_label()` + the `{ggrepel}` package to label individual points, how to draw arrows & boxes, etc.), you can check out the archived versions of the [typography](../lecture-slides/ARCHIVE/SLIDES-typography-jobs.qmd){target="_blank"} & [annotations](../lecture-slides/ARCHIVE/SLIDES-annotations-lobs-mono.qmd){target="_blank"} lectures. -->

---

##  {#break data-menu-title="# Break #" background="#047C90"}

<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">{{< fa mug-hot title="a mug with steam rising out the top" >}} Take a Break</p>
<!-- <p class="caption-text">*~ This is the end of Lesson 1 (of 2) ~*</p> -->
</div>

```{r countdown-end} 
countdown::countdown(
  minutes = 5,
  # left = 0, right = 0,
  # Fanfare when it's over
  play_sound = TRUE,
  color_border              = "#FFFFFF",
  color_text                = "#7aa81e",
  color_running_background  = "#7aa81e",
  color_running_text        = "#FFFFFF",
  color_finished_background = "#ffa07a",
  color_finished_text       = "#FFFFFF",
  font_size = "2em",
  )
```
