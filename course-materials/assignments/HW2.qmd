---
title: "HW #2: Visualizing FEMA NRI Data"
subtitle: "Assigned Wed 01/21/2026 | Due Wed 01/28/2026"
editor_options: 
  chunk_output_type: console
---

## Learning Outcomes {#LOs}

- identify which types of visualizations are most appropriate for your data and your audience
- prepare (e.g. clean, explore, wrangle) data so that it's appropriately formatted for building data visualizations
- build effective, responsible, accessible, and aesthetically-pleasing, visualizations using the R programming language, and specifically `{ggplot2}` + ggplot2 extension packages

## Description {#description}

[**In class, we've been discussing strategies and considerations for choosing the right graphic form to represent your data and convey your intended message. Here, you'll apply what we're learning while exploring natural hazards data, courtesy of the [FEMA Resilience Analysis and Planning Tool (RAPT)](https://hazards.fema.gov/nri/){target="_blank"}**]{.teal-text}.

<!-- In class, we've been discussing strategies and considerations for choosing the right graphic form to represent your data and convey your intended message. Here, you'll apply what we're learning to natural hazards and demographics data, courtesy of the **[FEMA National Risk Index](https://hazards.fema.gov/nri/){target="_blank"} (NRI)** and the **[US Census Bureau's American Community Survey](https://www.census.gov/programs-surveys/acs/about.html){target="_blank"} (ACS)**. -->

### I. Background reading {#partI}

[**Read more about FEMA's NRI before continuing on**]{.teal-text} (unfold the following note, which is collapsed to save space):

::: {.callout-note collapse=true}
## About the data

### About FEMA's National Risk Index (NRI) for Natural Hazards

[FEMA](https://www.fema.gov/about){target="_blank"} (Federal Emergency Management Agency) is a government agency with a mission of helping people before, during, and after disasters. In 2021, FEMA launched the **[National Risk Index (NRI)](https://www.fema.gov/flood-maps/products-tools/national-risk-index){target="_blank"}**, a dataset that "provides information for communities most at risk to [18 different natural hazards](https://www.fema.gov/sites/default/files/documents/fema_national-risk-index_methodology-hazards-overview.pdf){target="_blank"}. It offers a baseline risk measurement for expected annual loss, social vulnerability and community resilience at the Census tract or county level. The data helps to validate, measure and better understand your community’s natural hazard risk." **Risk** is defined as the potential for negative impacts resulting from natural hazards. It's calculated using the following equation:

$$Risk\:Index = Expected\:Annual\:Loss \times \frac{Social\:Vulnerability}{Community\:Resilience}$$

NRI provides hazard type-specific scores, as well as a composite score, which adds together the risk from all 18 hazard types. A community's **risk score** is represented by its percentile ranking among all other communities at the same level for Risk, Expected Annual Loss, Social Vulnerability and Community Resilience -- for example, if a given county's Risk Index percentile for a hazard type is 84.32 then its Risk Index value is greater than 84.32% of all US counties. Each community is also assigned a **risk rating**, which is a qualitative rating that describes the community in comparison to all other communities at the same level, ranging from “Very Low” to “Very High.” You can learn more in the [National Risk Index Data Technical Documentation](https://www.fema.gov/sites/default/files/documents/fema_national-risk-index_technical-documentation.pdf){target="_blank"}.

In December 2025, FEMA integrated NRI data into the [Resilience Analysis and Planning Tool (RAPT)](https://experience.arcgis.com/experience/0a317e8998534c30a9b2d3861c814d42/){target="_blank"}:

```{r}
#| eval: true
#| echo: false
#| out-width: "80%"
#| fig-align: "center"
knitr::include_graphics("images/RAPT.png")
```

::: {.center-text .gray-text .body-text-s}
*Screenshot of the [Resilience Analysis and Planning Tool (RAPT)](https://experience.arcgis.com/experience/0a317e8998534c30a9b2d3861c814d42/) with the National Risk Index Counties data layer.* 
:::

<!-- #### Accessing NRI Data

Data at the county- and census tract-level are available for download in multiple formats (including Shapefiles & CSVs) from NRI's [Data Resources page](https://hazards.fema.gov/nri/data-resources){target="_blank"}. -->
:::

### II. Create your `eds240-nri-acs-viz` GitHub repo {#partII}

[**Create a public GitHub repository named `eds240-nri-acs-viz` and add the following:**]{.teal-text}

- [ ] an informative and polished README
- [ ] a `HW2.qmd` file with the necessary YAML 
- [ ] a folder named `data/`
- [ ] a `.gitignore` file

::: {.callout-note}
## We'll use this same repository for both HWs #2 & #3. 

For this assignment, you'll only be working with FEMA NRI data. During HW #3, you'll be asked to incorporate [American Community Survey (ACS)](https://www.census.gov/programs-surveys/acs/about.html){target="_blank"} data (hence the repo name, `eds240-nri-acs-viz`).
:::

### III. Download data & add it to your repo {#partIII}

[**Next, let's download the necessary data, and add it to our `eds240-nri-acs-viz` repo:**]{.teal-text}

- [ ] **1.** Navigate to **[RAPT](https://experience.arcgis.com/experience/0a317e8998534c30a9b2d3861c814d42/){target="_blank"}** > click on the **NRI** button in the top menu > find the **National Risk Index Counties** layer > click on the three dots > Export to CSV (**NOTE:** you may need to allow pop-ups in your browser for the data to download). *If you have difficulties downloading the data, you can find a copy on [Google Drive](https://drive.google.com/file/d/1yoavLSBmJIMjVY9fQrT_rg8u6C-3v_v8/view?usp=sharing){target="_blank"}.*

- [ ] **2.** Drop your csv file into a `data/` folder in your HW repository.

- [ ] **3.** Add your `data/` folder to `.gitignore`, so you don't accidentally push the data to GitHub!

### IV. Build your visualization {#partIV}

[**Create a data viz that helps to answer the question, *How do FEMA National Risk Index scores for counties in California compare to those in other states?***]{.teal-text} This may require some data wrangling.

::: {.callout-tip}
## BEFORE you start wrangling / building your viz, be sure to...

- **identify / jot down your variables of interest** and consider which data types they are
- **use online tools like [from Data to Viz](https://www.data-to-viz.com/){target="_blank}** to help determine appropriate graph types, given your variables 
- **roughly sketch out your plots by hand** (see [why](https://medium.com/@tjanmichela/the-importance-of-sketching-in-data-visualization-78320c62e403){target="_blank"} this step matters!)
:::

Your final visualization should:

- [ ] include data for the 50 US states only (no territories)
- [ ] include a title (short, descriptive) & subtitle (describes main takeaway) (see [Fundamentals of Data Visualization, Ch 22](https://clauswilke.com/dataviz/figure-titles-captions.html){target="_blank"} for an example), a caption (describes the data source, e.g. "Data: FEMA National Risk Index (2025 Release)"), and alt text (following the formula you recently practiced in [lab](../lab/LAB-SLIDES-alt-text.qmd#alt-text-formula){target="_blank"}; use the `fig-alt` code chunk option to apply your alt text)
- [ ] consider and implement strategies for highlighting trends / important information (e.g. arranging data, highlighting data, adjusting scales)
- [ ] use custom colors (if applicable), rather than ggplot defaults 
- [ ] have an updated / polished theme

::: {.callout-tip}
## Is your plot looking squished in your rendered `.qmd` file? Adjust the aspect ratio!
You can adjust the aspect ratio of your plot (i.e. its width to height ratio) so that your data / groups are easy to read. Add the `fig-asp` option to your code chunk YAML, which makes adjusting aspect ratios for rendered outputs quite easy. Values > 1 make your plot taller and values < 1 make your plot wider. 
:::

::: {.callout-important}
## There is not necessarily one right answer (but don't build a map)!
There are a number of different chart types that could work for these data and question, *however* we do not intend for you to build a choropleth map (e.g. replicating what you see on [RAPT](https://experience.arcgis.com/experience/0a317e8998534c30a9b2d3861c814d42/?dlg=Tour&views=Add-Data){target="_blank"} when the NRI counties layer is added).
:::

### V. Answer some questions

- [ ] **1.** What are your variables of interest and what kinds of data (e.g. numeric, categorical, ordered, etc.) are they (a bullet point list is fine)?

- [ ] **2.** How did you decide which type of graphic form was best suited for answering the question? What alternative graphic forms could you have used instead? Why did you settle on this particular graphic form?

- [ ] **3.** Summarize your main finding in no more than two sentences.

- [ ] **4.** What modifications did you make to this visualization to make it more easily readable?

- [ ] **5.** Is there anything you wanted to implement, but didn't know how? If so, please describe.

## Rubric (specifications) {#rubric}

To recieve a "Satisfactory" on HW #2:

- [ ] **Create one visualization** that answers the question, *"How do FEMA National Risk Index scores for counties in California compare to those in other states?"* and fulfills the requirements listed in Part IV.
- [ ] **All code should follow appropriate styling conventions and include clear, informative annotations.** We will not enforce any particular code style guide (you may use conventions from prior courses if you prefer; we recommend following [these conventions](../../clean-code-guide.qmd){target="_blank"} from the [Tidyverse style guide](https://style.tidyverse.org/index.html){target="_blank"} if you're unsure where to start). You don’t need to explain every line, but your annotations should make it easy to follow your thinking and understand important decisions in your code.
- [ ] **Answer all five Part V questions.** There are no strict length requirements for free-response questions, however we expect that you answer them thoughtfully and fully.
- [ ] **Ensure that everything described above is included in your neatly-organized and polished `HW2.qmd` file** -- this includes appropriate document YAML (at a minimum, title, author, date), clearly labeled sections, appropriately-formatted prose, appropriate code chunk options (e.g. code should render and execute, but warnings and messages should be suppressed, long data frames should not be printed out, etc.)
- [ ] **All your work is housed in an organized and polished `eds240-nri-acs-viz` GitHub repository.** Your README includes all required information, as described in the [MEDS README Guidelines](https://ucsb-meds.github.io/README-guidelines/){target="_blank"}. Your data folder should is added to your `.gitignore`.
- [ ] **Render `HW2.qmd` as a PDF.** Double check that all of your outputs, code, and prose are visible.
- [ ] **Upload your PDF to Gradescope** by 11:59pm on Wed 01/28/2026.
- [ ] **Submit a [Generative AI Statement of Use](https://forms.gle/uCw7U5jzJAKahjA4A){target="_blank}** for HW #2 by 11:59pm on Wed 01/28/2026.